# üîê Ceph ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
  - –±–ª–æ—á–Ω—ã–µ (RBD), —Ñ–∞–π–ª–æ–≤—ã–µ (CephFS) –∏ –æ–±—ä–µ–∫—Ç–Ω—ã–µ (RADOS Gateway) –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
  - –≥–ª—É–±–æ–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Kubernetes —á–µ—Ä–µ–∑ CSI

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Ceph –Ω–∞ VPS –∫–ª–∞—Å—Ç–µ—Ä —á–µ—Ä–µ–∑ Ansible
> [ansible -> ceph -> readme.md](https://github.com/Sav231189/ansible/tree/main/projects/ceph)

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Ceph –≤ kubernetes
> ./install.md

##  üìê –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Ç–µ—Ä–∞
  - MON (–º–æ–Ω–∏—Ç–æ—Ä –¥–µ–º–æ–Ω): –º–∏–Ω–∏–º—É–º 3 –Ω–æ–¥—ã –¥–ª—è quorum. –û–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∏ "–∏—Å—Ç–∏–Ω—É" –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞. Ceph –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–≤–æ—Ä—É–º: 2 –∏–∑ 3 –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã, –∏–Ω–∞—á–µ –∫–ª–∞—Å—Ç–µ—Ä —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è HEALTH_ERR.
  - MGR (–º–µ–Ω–µ–¥–∂–µ—Ä –¥–µ–º–æ–Ω): 1‚Äì2 –¥–µ–º–æ–Ω–∞ –¥–ª—è –º–µ—Ç—Ä–∏–∫ –∏ –¥–∞—à–±–æ—Ä–¥–∞. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Ceph —Å–∞–º —É–ø—Ä–∞–≤–ª—è–µ—Ç MGR, –∏ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç —Ä–µ–∑–µ—Ä–≤–Ω—ã–π MGR (Node 2).
  - OSD (Object Storage Daemon): 
    - OSD ‚Äî —ç—Ç–æ –¥–µ–º–æ–Ω Ceph, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –¥–∏—Å–∫–µ –∏ –∏—Ö —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—é –º–µ–∂–¥—É –¥—Ä—É–≥–∏–º–∏ OSD. –ù–∞ –∫–∞–∂–¥—ã–π —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π (–∏–ª–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π) –¥–∏—Å–∫ –≤ —É–∑–ª–µ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –ø–æ 1‚Äì2 —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ ceph-osd –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ Ceph.
    - –ü—Ä–∏–Ω–∏–º–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –∑–∞–ø–∏—Å—å/—á—Ç–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤ (RBD), –æ–±—ä–µ–∫—Ç–æ–≤ (RGW (Rados Gateway) S3 –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –∏–ª–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ —Ñ–∞–π–ª–æ–≤ (CephFS - MDS (Metadata Server)).
    - –†–µ–ø–ª–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ –¥—Ä—É–≥–∏–µ OSD —Å–æ–≥–ª–∞—Å–Ω–æ CRUSH-–∫–∞—Ä—Ç–µ (üß† CRUSH Map - —á—Ç–æ–±—ã –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ –æ–¥–Ω–æ–≥–æ –¥–∏—Å–∫–∞ –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø—Ä–æ–ø–∞–ª–∏).
    - –û—Ç–≤–µ—á–∞—Ç—å –Ω–∞ pings –æ—Ç –º–æ–Ω–∏—Ç–æ—Ä–Ω—ã—Ö –¥–µ–º–æ–Ω–æ–≤ (MON) –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –∫–≤–æ—Ä—É–º–∞ –∏ –∑–¥–æ—Ä–æ–≤—å—è.
  - Pool - ceph-–ø—É–ª ‚Äî —ç—Ç–æ –ª–æ–≥–∏—á–µ—Å–∫–∞—è –µ–¥–∏–Ω–∏—Ü–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è, –∫—É–¥–∞ Ceph –ø–∏—à–µ—Ç –¥–∞–Ω–Ω—ã–µ. –û–Ω –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç:
    - ‚öô –¢–∏–ø	replicated (–∫–æ–ø–∏–∏) –∏–ª–∏ erasure (–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ)
    - üß± –ö–æ–ª-–≤–æ PG (placement groups)	–ö–∞–∫ —Ä–∞–∑–±–∏–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ OSD
    - üîÅ Replication	–°–∫–æ–ª—å–∫–æ –∫–æ–ø–∏–π –¥–∞–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω–∏—Ç—å
  - –°–µ—Ç—å ‚Äî –ª—É—á—à–µ —á–µ—Ä–µ–∑ WireGuard –∏–ª–∏ VLAN:
    - public_network (–∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫)
    - cluster_network (—Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è OSD)
