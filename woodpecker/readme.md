# üöÄ CI Woodpecker - Fork Drone –±–µ–∑ –ø–ª–∞—Ç–Ω–æ–π –ª–∏—Ü–µ–Ω–∑–∏–∏.

## üìå –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

CI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç –∏ –ø—É–±–ª–∏–∫—É–µ—Ç Docker-–æ–±—Ä–∞–∑—ã –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ –≤–µ—Ç–∫–∞—Ö:

- `stage` ‚Äî —Ç–µ—Å—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- `prod` ‚Äî –ø—Ä–æ–¥ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

## üîÑ –û–±—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å:

1. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ø—É—à–∏—Ç –∫–æ–¥ –≤ –≤–µ—Ç–∫—É `stage` –∏–ª–∏ `prod`
2. Woodpecker –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–∞–π–ø–ª–∞–π–Ω
3. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∏–º—è —Å–µ—Ä–≤–∏—Å–∞ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `SERVICE`
4. –ß–∏—Ç–∞–µ—Ç—Å—è –≤–µ—Ä—Å–∏—è –∏–∑ `apps/<service>/VERSION`
5. –°–æ–±–∏—Ä–∞–µ—Ç—Å—è Docker-–æ–±—Ä–∞–∑: `<service>:<branch>-<version>-<commit>`
6. –ü—É–±–ª–∏–∫—É–µ—Ç—Å—è –≤ Image Registry: `registry.local/<service>:tag`
7. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è image tag –≤ Git (`deploy/<branch>/<service>/values.yaml`)
8. –ö–æ–º–º–∏—Ç –∏ –ø—É—à –æ–±—Ä–∞—Ç–Ω–æ –≤ GitHub (–≤ –≤–µ—Ç–∫—É `deploy/stage` –∏–ª–∏ `deploy/prod`) –¥–ª—è CD

## ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
1. NGINX —Å SSL/TLS –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å `https://woodpecker.yourdomain.com` –Ω–∞ `http://localhost:80`
2. Woodpecker API –∏ Web UI —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ –æ–¥–Ω–æ–º –∏ —Ç–æ–º –∂–µ –ø–æ—Ä—Ç—É `http://localhost:80`
